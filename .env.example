# Snow Utils Configuration
# Copy to .env and set values for your environment.
#
# Required vs Optional:
#   - Variables without defaults are required by their respective commands
#   - Commands will error if required values are missing
#   - CLI flags override env vars (e.g., --user overrides SA_USER)

# -----------------------------------------------------------------------------
# Snowflake Connection
# -----------------------------------------------------------------------------
# Connection name from ~/.snowflake/connections.toml
# Run `snow connection list` to see available connections
SNOWFLAKE_DEFAULT_CONNECTION_NAME=default

# Role used for operations. Most commands need ACCOUNTADMIN or equivalent.
SNOWFLAKE_ROLE=ACCOUNTADMIN

# Default database context
SNOWFLAKE_DATABASE=

# -----------------------------------------------------------------------------
# PAT Management
# Commands: pat:create, pat:remove
# -----------------------------------------------------------------------------
# Service account username. Will be created as TYPE=SERVICE user.
# Naming: uppercase, no spaces, alphanumeric + underscores
# Example: CI_SERVICE_USER, DBT_RUNNER, AIRFLOW_SA
SA_USER=

# Role the PAT will be restricted to. The service account can ONLY use this role.
# Must exist before running pat:create.
# Example: DATA_LOADER_ROLE, READONLY_ROLE, APP_ROLE
SA_ROLE=

# Role with privileges to create policies and grant roles.
# Needs: CREATE AUTHENTICATION POLICY, CREATE NETWORK RULE, GRANT ROLE
# Defaults to SA_ROLE if not set. Use ACCOUNTADMIN or SECURITYADMIN if unsure.
SA_ADMIN_ROLE=

# Database where PAT objects are stored (auth policy, network rule/policy).
# Schema POLICIES and NETWORKS will be created automatically.
PAT_OBJECTS_DB=

# Optional: Custom PAT token name
# Default: {SA_USER}_PAT
# PAT_NAME=

# Optional: Path to .env file where SNOWFLAKE_PASSWORD will be written
# Default: .env in current directory
# DOT_ENV_FILE=/path/to/project/.env

# -----------------------------------------------------------------------------
# Network Management
# Commands: networks:create, networks:github, networks:google, networks:local
# -----------------------------------------------------------------------------
# Network rule name. Created as {NW_RULE_DB}.{NW_RULE_SCHEMA}.{NW_RULE_NAME}
# Naming: uppercase recommended, alphanumeric + underscores
# Example: GITHUB_ACTIONS_RULE, OFFICE_IPS, API_EGRESS
NW_RULE_NAME=

# Database for network rules
NW_RULE_DB=

# Schema for network rules
# Default: NETWORKS (created automatically if missing)
NW_RULE_SCHEMA=NETWORKS

# -----------------------------------------------------------------------------
# External Volume Management (AWS S3)
# Commands: extvolume:create, extvolume:delete, extvolume:verify
# -----------------------------------------------------------------------------
# AWS region for S3 bucket and IAM resources
# Default: us-west-2
AWS_REGION=us-west-2

# S3 bucket base name. Final name: {username}-{BUCKET} (with default prefix)
# Naming: lowercase, no underscores, 3-63 chars, DNS-compatible
# Example: iceberg-data, analytics-lake, raw-events
BUCKET=

# Optional: Snowflake external volume name
# Default: {USERNAME}_{BUCKET}_EXTERNAL_VOLUME
# EXTERNAL_VOLUME_NAME=

# Optional: Custom prefix for AWS resources (replaces username)
# Set empty to disable prefix entirely (use --no-prefix flag)
# EXTVOLUME_PREFIX=
